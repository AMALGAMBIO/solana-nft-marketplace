# Rewards center marketplace

A Solana NFT marketplace built by the people for the people using opensource software by [Holaplex](https://holaplex.com/) and [Metaplex](https://metaplex.com/).

## Active Deployments

| branch | platform | status | link to deployment |
| --- | --- | --- | --- |
| main | Kubernetes | [![Build, push and Deploy](https://github.com/motleylabs/nightmarket/actions/workflows/main.yml/badge.svg?branch=main)](https://github.com/motleylabs/nightmarket/actions/workflows/main.yml) | [prod.nightmarket.io](https://prod.nightmarket.io/) |
| beta | Kubernetes | [![Build, push and Deploy Beta](https://github.com/motleylabs/nightmarket/actions/workflows/beta.yaml/badge.svg?branch=beta)](https://github.com/motleylabs/nightmarket/actions/workflows/beta.yaml) | [beta.nightmarket.io](https://beta.nightmarket.io/) |
| beta | Vercel | tbd | [beta-vercel.nightmarket.io](https://beta-vercel.nightmarket.io/) |
| dev | Kubernetes | [![Build, push and Deploy](https://github.com/motleylabs/nightmarket/actions/workflows/main.yml/badge.svg?branch=dev)](https://github.com/motleylabs/nightmarket/actions/workflows/main.yml) | [dev.nightmarket.io](https://dev.nightmarket.io/) |
| dev | Vercel | tbd | [nightmarket.vercel.app](https://nightmarket.vercel.app/) |
| upstream/main | Kubernetes | [![Kubernetes deployment](https://github.com/holaplex/dao-marketplace/actions/workflows/main.yml/badge.svg?branch=main)](https://github.com/holaplex/dao-marketplace/actions/workflows/main.yml) | [nightmarket.holaplex.dev](https://nightmarket.holaplex.dev/)

## Overview

- `src/typings` - Types declarations.
- `public/*` - Static assets including fonts, images and locales.
- `src/components/*` - The different reusable components used throughout the app including Button, Icon, Avatar, Form, List, etc.
- `src/hooks/*` - Useful hooks used throughout the app.
- `src/layouts/*` - The different layouts used by pages.
- `src/modules/*` - Various helper methods and utilities worthy of converting to a helper library.
- `src/pages/*` - Contains all the app's pages.
- `src/providers/*` - Providers to provide context at various places.
- `src/app.config.ts` - Global config values used throughout the app like app's base url, api url, solana rpc url, market's auctionhouse address etc.
- `src/cache.ts` - Global reactive variables that can be set and read from anywhere in the application. Similar to redux state.
- `styles/globals.css` - A small amount of global styles since the app mostly make use of vanilla Tailwind CSS.
- `next-18next.config.js` - Supported languages and the default language.
- `next.config.js` - NextJS configuration containing route redirects and other NextJS extensions.


## Video Overview

[![Night Market Codebase Review](https://cdn.loom.com/sessions/thumbnails/df21609222da4259bf9353b8f8a885ff-with-play.gif)](https://www.loom.com/embed/df21609222da4259bf9353b8f8a885ff)

## Environment

The list of required environment variables for the application. To be set through the OS environment or through .env file.

| Name | Description |
|------|-------------|
| NEXT_PUBLIC_AUCTION_HOUSE_ADDRESS | The address of the auction house for the reward center. |
| NEXT_PUBLIC_ADDRESS_LOOKUP_TABLE | The address of the reward center's address lookup table generated by the reward-center-cli and used for the buy_listing and accept_offer actions. |
| NEXT_PUBLIC_SOLANA_RPC_URL| Solana RPC endpoint used for submitting transactions. |

## Getting Started

First, install dependencies

```bash
yarn install
```

Then, run the development server:

```bash
yarn dev
```

You might also want to setup a .env.local file to override some ENV variables like RPC provider, don't forget to restart the server if you do.

```bash
NEXT_PUBLIC_SOLANA_RPC_URL="https://rpc.helius.xyz/[...api_key]"
```

## Deploy

```bash
yarn build
yarn start
```

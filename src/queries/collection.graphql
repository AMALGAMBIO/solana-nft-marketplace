#import "./fragments/profile.graphql"
#import "./fragments/nft.graphql"
#import "./fragments/listing.graphql"

query CollectionQuery($address: String!) {
  collection(address: $address) {
    id
    verifiedCollectionAddress
    name
    description
    image(width: 100)
    nftCount
    # floorPrice
    # volumeTotal
    # listedCount
    compactFloorPrice @client
    compactVolumeTotal @client
    compactNftCount @client
    holderCount
    # nft {
    #   address
    #   mintAddress
    #   name
    #   image
    #   description
    #   creators {
    #     address
    #     displayName @client
    #     previewImage @client
    #     profile {
    #       ...ProfileInfo
    #     }
    #     metadataAddress
    #     share
    #     verified
    #     position
    #   }
    # }
  }
}

query CollectionAttributeGroupsQuery($address: String!) {
  collection(address: $address) {
    id
    # nft {
    #   mintAddress
    # }
    attributeGroups {
      name
      variants {
        name
        count
      }
    }
  }
}

query CollectionNFTsQuery(
  $address: String!
  $limit: Int!
  $offset: Int!
  $order: OrderDirection
  $sortBy: NftSort
  $attributes: [AttributeFilter!]
) {
  collection(address: $address) {
    nfts(limit: $limit, offset: $offset, order: $order, sortBy: $sortBy, attributes: $attributes) {
      ...NftListingInfo
    }
  }
}

query CollectionActivitiesQuery(
  $address: String!
  $eventTypes: [String!]
  $limit: Int = 25
  $offset: Int = 0
) {
  collection(address: $address) {
    activities(eventTypes: $eventTypes, limit: $limit, offset: $offset) {
      id
      metadata
      price
      createdAt
      timeSince @client
      marketplaceProgramAddress
      nftMarketplace @client {
        name
        link
        logo
      }
      solPrice @client
      primaryWallet @client {
        address
        twitterHandle
        previewImage @client
        displayName @client
        profile {
          ...ProfileInfo
        }
      }
      wallets {
        address
        twitterHandle
        previewImage @client
        displayName @client
        profile {
          ...ProfileInfo
        }
      }
      activityType
      auctionHouse {
        address
        treasuryMint
      }
      nft {
        address
        name
        mintAddress
        image(width: 100)
      }
    }
  }
}

#import "./fragments/profile.graphql"
#import "./fragments/nft.graphql"
#import "./fragments/listing.graphql"

query NftDetailsQuery($address: String!) {
  nft: nftByMintAddress(address: $address) {
    address
    mintAddress
    name
    image(width: 1400)
    description
    moonrankCollection {
      name
      verifiedCollectionAddress
      shortVerifiedCollectionAddress @client
      id
      description
      image(width: 100)
      trends {
        floor1d
        compactFloor1d @client
      }
    }
    owner {
      address
      associatedTokenAccountAddress
      previewImage @client
      displayName @client
      profile {
        ...ProfileInfo
      }
    }
  }
}

query NftQuery($address: String!, $auctionHouse: String!) {
  auctionHouse(address: $auctionHouse) {
    address
    sellerFeeBasisPoints
    fee @client
    treasuryMint
    authority
    auctionHouseFeeAccount
    auctionHouseTreasury
    rewardCenter {
      address
      tokenMint
      sellerRewardPayoutBasisPoints
      payoutNumeral
      mathematicalOperand
    }
  }

  nft: nftByMintAddress(address: $address) {
    address
    mintAddress
    name
    sellerFeeBasisPoints
    royalties @client
    shortMintAddress @client
    shortAddress @client
    image(width: 1400)
    description
    owner {
      address
      associatedTokenAccountAddress
      previewImage @client
      displayName @client
      profile {
        ...ProfileInfo
      }
    }
    attributes {
      traitType
      value
    }
    creators {
      verified
      address
      share
      profile {
        ...ProfileInfo
      }
    }
  }
}

query NftActivitiesQuery($address: String!) {
  nft: nftByMintAddress(address: $address) {
    address
    mintAddress
    activities {
      id
      metadata
      price
      solPrice @client
      createdAt
      timeSince @client
      marketplaceProgramAddress
      nftMarketplace @client {
        name
        link
        logo
      }
      primaryWallet @client {
        address
        twitterHandle
        previewImage @client
        displayName @client
        profile {
          ...ProfileInfo
        }
      }
      wallets {
        address
        twitterHandle
        previewImage @client
        displayName @client
        profile {
          ...ProfileInfo
        }
      }
      activityType
      auctionHouse {
        address
        treasuryMint
      }
      nft {
        address
        name
        mintAddress
        image(width: 100)
      }
    }
  }
}

query NftMarketInfoQuery($address: String!) {
  nft: nftByMintAddress(address: $address) {
    address
    mintAddress
    owner {
      address
      associatedTokenAccountAddress
    }
    lastSale {
      price
      solPrice @client
    }
    moonrankCollection {
      name
      verifiedCollectionAddress
      shortVerifiedCollectionAddress @client
      id
      description
      image(width: 100)
      trends {
        floor1d
        compactFloor1d @client
      }
    }
    offers {
      id
      tradeState
      buyer
      metadata
      price
      solPrice @client
      auctionHouse {
        address
      }
    }
    listings {
      ...ListingInfo
    }
  }
}

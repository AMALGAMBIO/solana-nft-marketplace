#import "./fragments/listing.graphql"

query OfferableQuery($address: String!, $auctionHouse: String!) {
  auctionHouse(address: $auctionHouse) {
    address
    sellerFeeBasisPoints
    fee @client
    treasuryMint
    authority
    auctionHouseFeeAccount
    auctionHouseTreasury
    rewardCenter {
      address
      tokenMint
      sellerRewardPayoutBasisPoints
      payoutNumeral
      mathematicalOperand
    }
  }

  nft: nftByMintAddress(address: $address) {
    address
    mintAddress
    name
    image(width: 400)
    moonrankCollection {
      name
      id
      trends {
        floor1d
        compactFloor1d @client
      }
    }
    offers {
      id
      tradeState
      buyer
      metadata
      price
      solPrice @client
      auctionHouse {
        address
      }
    }
    listings {
      ...ListingInfo
    }
    purchases {
      id
      price
      solPrice @client
    }
    owner {
      address
      associatedTokenAccountAddress
    }
  }
}
